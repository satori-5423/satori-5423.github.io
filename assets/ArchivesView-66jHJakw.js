import{d as E,u as b,r as d,c,w as f,a as r,b as a,e as A,v as N,F as p,f as h,g as m,h as D,P as F,S as M,n as P,t as C,i as U,B as $,o as n,_ as z}from"./index-CrT_nhY8.js";const I={class:"container",style:{"margin-top":"100px"}},L={class:"main-content"},Q={class:"card search-card"},j={class:"search-bar"},q={class:"filters"},G={class:"filter-group"},H={class:"tags"},J=["onClick"],K={class:"filter-group"},O={class:"tags"},R=["onClick"],W={class:"posts-list"},X={key:0,class:"card no-results"},Y={class:"sidebar"},_=5,Z=E({__name:"ArchivesView",setup(ee){const{searchPosts:y,posts:v}=b(),i=d(""),l=d([]),o=d([]),k=c(()=>{const t=new Set;return v.value.forEach(e=>e.tags.forEach(s=>t.add(s))),Array.from(t)}),w=c(()=>{const t=new Set;return v.value.forEach(e=>e.categories?.forEach(s=>t.add(s))),Array.from(t)}),g=c(()=>!i.value&&l.value.length===0&&o.value.length===0?v.value:y(i.value,{tags:l.value,categories:o.value})),u=d(1),x=c(()=>Math.ceil(g.value.length/_)),B=c(()=>{const t=(u.value-1)*_,e=t+_;return g.value.slice(t,e)});f([i,l,o],()=>{u.value=1}),f(u,()=>{window.scrollTo({top:0,behavior:"smooth"})});const S=t=>{l.value.includes(t)?l.value=l.value.filter(e=>e!==t):l.value.push(t)},T=t=>{o.value.includes(t)?o.value=o.value.filter(e=>e!==t):o.value.push(t)};return(t,e)=>(n(),r("div",I,[a("div",L,[a("div",Q,[a("div",j,[e[2]||(e[2]=a("i",{class:"fa-solid fa-magnifying-glass"},null,-1)),A(a("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),type:"text",placeholder:"Search posts..."},null,512),[[N,i.value]])]),a("div",q,[a("div",G,[e[3]||(e[3]=a("h4",null,"Categories:",-1)),a("div",H,[(n(!0),r(p,null,h(w.value,s=>(n(),r("span",{key:s,class:P(["tag-pill",{active:o.value.includes(s)}]),onClick:V=>T(s)},C(s),11,J))),128))])]),a("div",K,[e[4]||(e[4]=a("h4",null,"Tags:",-1)),a("div",O,[(n(!0),r(p,null,h(k.value,s=>(n(),r("span",{key:s,class:P(["tag-pill",{active:l.value.includes(s)}]),onClick:V=>S(s)},C(s),11,R))),128))])])])]),a("div",W,[(n(!0),r(p,null,h(B.value,s=>(n(),U($,{key:s.id,post:s,"is-preview":!0},null,8,["post"]))),128)),m(F,{currentPage:u.value,"onUpdate:currentPage":e[1]||(e[1]=s=>u.value=s),totalPages:x.value},null,8,["currentPage","totalPages"]),g.value.length===0?(n(),r("div",X,[...e[5]||(e[5]=[a("p",null,"No posts found.",-1)])])):D("",!0)])]),a("aside",Y,[m(M)])]))}}),te=z(Z,[["__scopeId","data-v-40cd17d4"]]);export{te as default};
